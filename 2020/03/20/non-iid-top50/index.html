<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Are Top ATP Players Non-IID? - Stats On the T</title>
	<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
	<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
	 <script src="https://d3js.org/d3.v4.js"></script>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<script type="text/javascript" async
	  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	  MathJax.Hub.Config({
	  tex2jax: {
	    inlineMath: [['$','$'], ['\\(','\\)']],
	    displayMath: [['$$','$$']],
	    processEscapes: true,
	    processEnvironments: true,
	    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
	    TeX: { equationNumbers: { autoNumber: "AMS" },
	         extensions: ["AMSmath.js", "AMSsymbols.js"] }
	  }
	  });
	  MathJax.Hub.Queue(function() {
	    
	    
	    
	    var all = MathJax.Hub.getAllJax(), i;
	    for(i = 0; i < all.length; i += 1) {
	        all[i].SourceElement().parentNode.className += ' has-jax';
	    }
	  });

	  MathJax.Hub.Config({
	  
	  TeX: { equationNumbers: { autoNumber: "AMS" } }
	  });
	</script>
	<meta name="description" content="">
	<meta property="og:title" content="Are Top ATP Players Non-IID?" />
<meta property="og:description" content="With sport at a standstill, there is ample time for sports nerds to get really wonky. In this post, I look at a question that should go to the heart of any tennis analyst: are players non-iid? I look at how we can measure non-iid effects, why we should care, and who has been the most non-iid among the Top 50 ATP players." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skoval.github.io/2020/03/20/non-iid-top50/" />
<meta property="article:published_time" content="2020-03-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-03-20T00:00:00+00:00" />

	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-100138539-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="Stats On the T" rel="home">
				<div class="logo__title">Stats On the T</div>
				<div class="logo__tagline">Dedicated to data, statistics, and tennis</div>
			</a>
			<div class="logo-img">
				<img src="/img/logo.png" />
			</div>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">About</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/contact/">
				
				<span class="menu__text">Contact</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/features/">
				
				<span class="menu__text">Features</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/ratings/ratings/">
				
				<span class="menu__text">Ratings</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/research/">
				
				<span class="menu__text">Research</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/post/software/">
				
				<span class="menu__text">Software</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Are Top ATP Players Non-IID?</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2020-03-20T00:00:00">March 20, 2020</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/iid/" rel="category">iid</a>
	</span>
</div></div>
		</header>
	<div class="content post__content clearfix">
			<p>With sport at a standstill, there is ample time for sports nerds to get really wonky. In this post, I look at a question that should go to the heart of any tennis analyst: are players non-iid? I look at how we can measure non-iid effects, why we should care, and who has been the most non-iid among the Top 50 ATP players.</p>
<p>In one of the rare <a href="https://www.tandfonline.com/doi/abs/10.1198/016214501753168217">sports papers to appear in JASA</a>, the two giants of tennis statistics, Klaassen and Magnus, evaluated the iid assumption for point outcomes in tennis. If you have ever done a regression analysis, you already have experience applying the &ldquo;independent and identically distributed&rdquo; assumption. For a random sample of observations, iid is a reasonable and convenient starting point. In the context of tennis, iid is the simplest way of thinking about the sequence of point outcomes in a match. Essentially, once we know a player&rsquo;s average serve point won for the match we assume that every point on their serve is a Bernoulli trial with the chance of success equal to their match serve win probability.</p>
<p>From a statistical point of view, iid is a real boon for analysis. If players are iid, then any event of interest, whether winning a set, or winning a tiebreak, or winning a match, boils down to some function of each player&rsquo;s serve win probability.</p>
<div class="getty embed image" style="background-color:#fff;display:inline-block;font-family:Roboto,sans-serif;color:#a7a7a7;font-size:11px;width:100%;max-width:394px;float:left;padding:2%;"><div style="padding:0;margin:0;text-align:left;"><a href="http://www.gettyimages.com.au/detail/1203199194" target="_blank" style="color:#a7a7a7;text-decoration:none;font-weight:normal !important;border:none;display:inline-block;">Embed from Getty Images</a></div><div style="overflow:hidden;position:relative;height:0;padding:72.89562% 0 0 0;width:100%;"><iframe src="//embed.gettyimages.com/embed/1203199194?et=o5kSf__vR4ZfeCGU_HbANQ&tld=com.au&sig=Ww2juVn8_H_9vZTy1Rp5mXFEpabh2nWUxReFe2AoREQ=&caption=true&ver=1" scrolling="no" frameborder="0" width="594" height="433" style="display:inline-block;position:absolute;top:0;left:0;width:100%;height:100%;margin:0;"></iframe></div></div>
<p>But what if they aren&rsquo;t iid? Well, then things get more complicated. Non-iid would mean players serve systematically better or worse in some situations, like say, all 30-30 points for example. We would need to know those tendencies to have any hope of describing the probabilities of outcomes within a match.</p>
<p>If you have ever found yourself saying a player has gotten tight or choked during a match, then you were talking about non-iid effects. We are all so use to seeing narratives in the progress of a tennis match that it is hard to accept that players could actually be iid. That apparent streaks or surprises we see are all consistent with the chance involved with a Bernoulli sequence.</p>
<p>If the study of Klaassen and Magnus teaches us anything, it is that the truth is somewhere in-between. What I mean is that, players are not iid but their non-iid effects are much smaller than our intuition would suggest. So small, in fact, that the iid assumption is a really close description of actual results in tennis for many cases.</p>
<p>Although the effects may be small on average, it is still possible that individual players show greater non-iid behavior than others. This got me to thinking about who among the current top men&rsquo;s players would be least iid?</p>
<p>One way to get an overall measure of non-iid effects in a match is to compare a player&rsquo;s actual service games won against the iid-predicted service games won. Let&rsquo;s call $g$ the actual proportion of service games won in a match. Now, take the player of interest&rsquo;s proportion of points won on serve in the match as $p$ and their opponent&rsquo;s serve win proportion as $q$. We can use a Monte Carlo to get an expected proportion of games won $\hat{g}(p, q)$ given the match serve characteristics.</p>
<p>To give a specific example, in his last match before the current suspension of tour play, Novak Djokovic won 90% of service games, with a win percent on serve of 70% against Stefanos Tsitsipas&rsquo; 58%. So we would plug the 70% and 58% serve chances into the iid simulator for a best of 3 match and get the estimated service games won for some large number of simulated matches.</p>
<p>I carried out this simulation for matches between 2018 and the present for all Top 50 ATP players (whatever those rankings still mean!). The chart to the right shows the results for all matches with the average non-iid in blue. The players are sorted from most positive average non-iid to least from top to bottom. Here, a positive effect means a player won more service games than expected given their serve win percentage on points and an iid assumption.</p>
<div style="float:right;max-width:60%;padding:1%;">
	<img src="/img/noniid_atp.png" style="text-align:center;max-width:100%;" />	
	<figcaption style="width:100%;">Figure 1. Match non-iid effects for matches played from 2018 to the present for the current Top 50 ranked ATP players</figcaption>
</div>
<p>Right at the top are three of the biggest servers among the players: Opelka, Kyrgios, and Isner. What could explain this? One possibility is that, for players for whom the serve is a real weapon, they may have one or two very effective serve strategies that they will go to on the most important points, say in close service games or in end-of-game situations. This would be one way in which a player could up their overall performance on service games won, while their average percentage of points won on serve may be largely unchanged.</p>
<p>It is interesting to find several players we don&rsquo;t think of as especially strong servers in the top 10. Players like Carreno-Busta, Tsonga and Shapovalov. The non-iid effect is less for these players but it may still be driven by the same strategy. Although these players may have an overall lower percentage of points won on serve, they may still have some set strategy or even mindset on the most important points of serve that result in this measurable gap between the iid prediction and non-iid prediction.</p>
<p>Taking the case of Carreno-Busta, his top 3 matches in terms of the iid effect were each loses, where his opponents were serving at an over 70% win percentage. Carreno-Busta won 90% or more of service games won in each case despite a comparatively low percentage of points won on serve. There was the 2019 loss to Denis Shapovalov in Rome, where Carreno Busta won +17 percentage points of service games compared to the iid expectation; the 2019 loss in Shanghai to Dominic Thiem where he won +14 percentage points more than expected; and the recent loss in Rotterdam to  Felix Auger Aliassime where he won +13 percentage points. This group of cases makes the point that non-iid effects could highlight cases where a player was handling pressure well on serve, but still managed to lose.</p>
<p>I wasn&rsquo;t too surprised to find the Big 3 among the players that are most consistent with iid. It means that they been among some of the least sensitive too context. Or, put another way, these are the players who play every point like it is equally important. Something that many attribute to the mentality of a champion player.</p>
<p>Sharp-eyed readers may note that more players are on the positive side of the non-iid effect than the negative side. I think this may be partly due to the fact that, owing to the small number of service games played in a match, especially best of 3, the outcome is more like a discrete outcome with an upper bound of 1.</p>
<p>We could use a similar setup to look at other measures of performance, aside from service games won, that may be more sensitive to non-iid effects. There seems no end of interesting things to investigate with non-iid and this may be something I&rsquo;ll delve into further in some future posts.</p>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/iid/" rel="tag">iid</a></li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Stephanie Kovalchik avatar" src="/img/IMG_0842.JPG" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Stephanie Kovalchik</span>
	</div>
	<div class="authorbox__description">
		Senior data scientist at Zelus Analytics, dedicated to using advanced stats to get more value out of performance analysis in elite sport.
	</div>
</div>

<nav class="post-nav flex">
	<div class="post-nav__item post-nav__item--prev">
		<a class="post-nav__link" href="/2020/03/13/rankings-winners-losers/" rel="prev"><span class="post-nav__caption">«&thinsp;Previous</span><p class="post-nav__post-title">Winners and Losers of a Rankings Hiatus</p></a>
	</div>
	<div class="post-nav__item post-nav__item--next">
		<a class="post-nav__link" href="/2020/03/26/atp-best-matches/" rel="next"><span class="post-nav__caption">Next&thinsp;»</span><p class="post-nav__post-title">What Do I Watch Now?</p></a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "on-the-t-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 Stats On the T.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>